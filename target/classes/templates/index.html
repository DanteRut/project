<!DOCTYPE html>
<html lang="ru"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è–º–∏</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
    <style>
        .hero {
            text-align: center;
            padding: 4rem 1rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            margin-bottom: 2rem;
            border-radius: 0 0 20px 20px;
        }
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }
        .feature-card {
            padding: 2rem;
            border: 1px solid #e1e1e1;
            border-radius: 12px;
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .user-info {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
        }
        .role-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 1rem;
            margin: 0.25rem;
        }
        .badge-teacher { background: #4caf50; color: white; }
        .badge-student { background: #2196f3; color: white; }
        .badge-admin { background: #f44336; color: white; }
    </style>
</head>
<body>
<!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è —Å Spring Security -->
<div th:replace="fragments/navbar"></div>

<main class="container">
    <!-- –ì–µ—Ä–æ–π-—Å–µ–∫—Ü–∏—è —Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º -->
    <section>
        <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è–º–∏!</h1>
        <p>–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</p>

        <!-- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
        <div sec:authorize="isAuthenticated()" class="user-info">
            <h3>üëã –ü—Ä–∏–≤–µ—Ç, <span sec:authentication="name"></span>!</h3>
            <p>
<!--                    <span sec:authentication="principal.authorities" th:each="authority : ${#authentication.principal.authorities}">-->
<!--                        <span th:if="${authority.authority == 'ROLE_USER'}" class="role-badge badge-student">üéì –°—Ç—É–¥–µ–Ω—Ç</span>-->
<!--                        <span th:if="${authority.authority == 'ROLE_TEACHER'}" class="role-badge badge-teacher">üë®‚Äçüè´ –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å</span>-->
<!--                        <span th:if="${authority.authority == 'ROLE_ADMIN'}" class="role-badge badge-admin">‚öôÔ∏è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</span>-->
<!--                    </span>-->
<!--                    <span sec:authentication="principal.authorities" th:each="authority : ${#authentication.principal.authorities}">-->
                        <span sec:authorize="hasAnyAuthority('ROLE_STUDENT')" class="role-badge badge-student">üéì –°—Ç—É–¥–µ–Ω—Ç</span>
                        <span sec:authorize="hasAnyAuthority('ROLE_TEACHER')" class="role-badge badge-teacher">üë®‚Äçüè´ –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å</span>
                        <span sec:authorize="hasAnyAuthority('ROLE_ADMIN')" class="role-badge badge-admin">‚öôÔ∏è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</span>
<!--                    </span>-->
            </p>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
        <div class="action-buttons">
            <a th:href="@{/assignments/all}" role="button" class="secondary">üìã –°–º–æ—Ç—Ä–µ—Ç—å –∑–∞–¥–∞–Ω–∏—è</a>

            <!-- –†–∞–∑–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–æ–ª–µ–π -->
            <a sec:authorize="hasAnyAuthority('TEACHER', 'ADMIN')"
               th:href="@{/assignments/add}"
               role="button"
               class="primary">‚ûï –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ</a>

            <a sec:authorize="hasAuthority('STUDENT')"
               th:href="@{/assignments/my}"
               role="button"
               class="primary">üìñ –ú–æ–∏ –∑–∞–¥–∞–Ω–∏—è</a>

            <a sec:authorize="!isAuthenticated()"
               th:href="@{/register}"
               role="button"
               class="contrast">üìù –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a>
        </div>
    </section>

    <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ —Ñ—É–Ω–∫—Ü–∏–π -->
    <section class="features">
        <!-- –î–ª—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π -->
        <article class="feature-card" sec:authorize="hasAnyAuthority('TEACHER', 'ADMIN')">
            <h3>üë®‚Äçüè´ –î–ª—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π</h3>
            <p>–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∑–∞–¥–∞–Ω–∏—è, –Ω–∞–∑–Ω–∞—á–∞–π—Ç–µ —Å—Ç—É–¥–µ–Ω—Ç–∞–º, –æ—Ü–µ–Ω–∏–≤–∞–π—Ç–µ —Ä–∞–±–æ—Ç—ã –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å</p>
            <div class="feature-links">
                <a th:href="@{/assignments/add}" class="contrast">‚ûï –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ</a>
                <a th:href="@{/admin/statistics}" class="secondary">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>
            </div>
        </article>

        <!-- –î–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ -->
        <article class="feature-card" sec:authorize="hasAuthority('STUDENT')">
            <h3>üéì –î–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</h3>
            <p>–ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ –∑–∞–¥–∞–Ω–∏—è, —Å–¥–∞–≤–∞–π—Ç–µ —Ä–∞–±–æ—Ç—ã, –ø–æ–ª—É—á–∞–π—Ç–µ –æ—Ü–µ–Ω–∫–∏ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Å–≤–æ—é —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç—å</p>
            <div class="feature-links">
                <a th:href="@{/assignments/my}" class="contrast">üìñ –ú–æ–∏ –∑–∞–¥–∞–Ω–∏—è</a>
                <a th:href="@{/submissions/grades}" class="secondary">üìà –ú–æ–∏ –æ—Ü–µ–Ω–∫–∏</a>
            </div>
        </article>

        <!-- –û–±—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ -->
        <article class="feature-card">
            <h3>üìö –í—Å–µ –∑–∞–¥–∞–Ω–∏—è</h3>
            <p>–ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≤–∞—à–µ–π —Ä–æ–ª–∏</p>
            <a th:href="@{/assignments/all}" class="contrast">üìã –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ</a>
        </article>

        <!-- –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ -->
        <article class="feature-card" sec:authorize="hasAuthority('ADMIN')">
            <h3>‚öôÔ∏è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
            <p>–£–ø—Ä–∞–≤–ª—è–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ —Å–∏—Å—Ç–µ–º—ã –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –æ–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</p>
            <div class="feature-links">
                <a th:href="@{/admin/users}" class="contrast">üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</a>
                <a th:href="@{/admin/statistics}" class="secondary">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>
            </div>
        </article>

        <!-- –î–ª—è –≥–æ—Å—Ç–µ–π -->
        <article class="feature-card" sec:authorize="!isAuthenticated()">
            <h3>üîë –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å!</h3>
            <p>–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –≤ —Å–∏—Å—Ç–µ–º–µ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</p>
            <div class="feature-links">
                <a th:href="@{/login}" class="contrast">üîë –í–æ–π—Ç–∏</a>
                <a th:href="@{/register}" class="secondary">üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
            </div>
        </article>

        <!-- –¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞ -->
        <article class="feature-card">
            <h3>üõü –ü–æ–º–æ—â—å</h3>
            <p>–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å? –û–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π</p>
            <a href="#" class="contrast">üìö –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ</a>
        </article>
    </section>

    <!-- –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö) -->
    <section sec:authorize="isAuthenticated()" class="quick-access">
        <h2>‚ö° –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø</h2>
        <div class="grid">
            <!-- –î–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ -->
            <div sec:authorize="hasAuthority('STUDENT')" class="card">
                <h4>üéì –°—Ç—É–¥–µ–Ω—Ç—É</h4>
                <ul>
                    <li><a th:href="@{/assignments/my}">–ú–æ–∏ —Ç–µ–∫—É—â–∏–µ –∑–∞–¥–∞–Ω–∏—è</a></li>
                    <li><a th:href="@{/submissions/grades}">–ú–æ–∏ –æ—Ü–µ–Ω–∫–∏</a></li>
                    <li><a th:href="@{/assignments/all}">–í—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è</a></li>
                </ul>
            </div>

            <!-- –î–ª—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π -->
            <div sec:authorize="hasAuthority('TEACHER')" class="card">
                <h4>üë®‚Äçüè´ –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—é</h4>
                <ul>
                    <li><a th:href="@{/assignments/add}">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ</a></li>
                    <li><a th:href="@{/admin/statistics}">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏</a></li>
                    <li><a th:href="@{/assignments/all}">–í—Å–µ –º–æ–∏ –∑–∞–¥–∞–Ω–∏—è</a></li>
                </ul>
            </div>

            <!-- –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ -->
            <div sec:authorize="hasAuthority('ADMIN')" class="card">
                <h4>‚öôÔ∏è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É</h4>
                <ul>
                    <li><a th:href="@{/admin/users}">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</a></li>
                    <li><a th:href="@{/admin/statistics}">–°–∏—Å—Ç–µ–º–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a></li>
                    <li><a th:href="@{/assignments/all}">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è–º–∏</a></li>
                </ul>
            </div>
        </div>
    </section>

    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–¥–ª—è –≤—Å–µ—Ö) -->
    <section class="stats">
        <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã</h2>
        <div class="grid">
            <div class="card">
                <h4>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h4>
                <p><strong>150+</strong> –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö</p>
            </div>
            <div class="card">
                <h4>–ó–∞–¥–∞–Ω–∏—è</h4>
                <p><strong>45</strong> –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π</p>
            </div>
            <div class="card">
                <h4>–£—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç—å</h4>
                <p><strong>89%</strong> —Å—Ä–µ–¥–Ω—è—è —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç—å</p>
            </div>
            <div class="card">
                <h4>–í—Ä–µ–º—è</h4>
                <p><strong>24/7</strong> –¥–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ</p>
            </div>
        </div>
    </section>
</main>

<!-- –§—É—Ç–µ—Ä -->
<footer class="container-fluid" style="text-align: center; padding: 2rem; margin-top: 4rem; border-top: 1px solid #e1e1e1;">
    <div class="grid">
        <div>
            <h5>TaskManager</h5>
            <p>–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—á–µ–±–Ω—ã–º–∏ –∑–∞–¥–∞–Ω–∏—è–º–∏</p>
            <small>–í–µ—Ä—Å–∏—è 1.0.0</small>
        </div>
        <div>
            <h5>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h5>
            <p>support@taskmanager.edu</p>
            <p>+7 (XXX) XXX-XX-XX</p>
        </div>
        <div>
            <h5>–ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏</h5>
            <p><a th:href="@{/}">–ì–ª–∞–≤–Ω–∞—è</a></p>
            <p><a th:href="@{/assignments/all}">–í—Å–µ –∑–∞–¥–∞–Ω–∏—è</a></p>
            <p sec:authorize="isAuthenticated()"><a th:href="@{/profile}">–ü—Ä–æ—Ñ–∏–ª—å</a></p>
        </div>
    </div>
    <small>–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è–º–∏ &copy; 2024. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</small>
</footer>

<script>
    // –ü—Ä–æ—Å—Ç–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    document.addEventListener('DOMContentLoaded', function() {
        const featureCards = document.querySelectorAll('.feature-card');
        featureCards.forEach((card, index) => {
            card.style.animationDelay = `${index * 0.1}s`;
            card.classList.add('fade-in');
        });
    });

    // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª—å –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
    const style = document.createElement('style');
    style.textContent = `
        .fade-in {
            animation: fadeIn 0.5s ease-out forwards;
            opacity: 0;
        }
        @keyframes fadeIn {
            to { opacity: 1; }
        }
        .user-info-small {
            padding: 0.5rem;
            background: #f8f9fa;
            border-radius: 4px;
            font-size: 0.875rem;
        }
        .action-buttons {
            margin-top: 2rem;
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }
        .feature-links {
            margin-top: 1rem;
            display: flex;
            gap: 0.5rem;
            justify-content: center;
        }
        .quick-access {
            margin: 3rem 0;
        }
        .stats {
            margin: 3rem 0;
        }
    `;
    document.head.appendChild(style);
</script>
</body>
</html>